jQuery(document).ready(function(i){var e=i("<div></div>").attr("id","mmp-shortcode-modal").dialog({autoOpen:!1,modal:!0,draggable:!1,resizable:!1,title:mmpShortcodeStrings.insertMap,buttons:[{id:"mmp-shortcode-cancel",text:mmpShortcodeStrings.cancel,click:function(){i(this).dialog("close")}},{id:"mmp-shortcode-insert",text:mmpShortcodeStrings.insertMap,disabled:!0,click:function(){var t=i("#mmp-shortcode-selected").val();if("0"!=t){var o="["+mmpShortcodeStrings.shortcode+' map="'+t+'"]';wp.media.editor.insert(o),i(this).dialog("close")}}}],open:function(){var t=i(window).width()-20,o=i(window).height()-20;i(this).dialog("option","width",t<600?t:600),i(this).dialog("option","height",o<600?o:600),i(this).html(mmpShortcodeStrings.loading).dialog("option","position",{my:"center",at:"center",of:window}),i.ajax({type:"POST",url:ajaxurl,data:{action:"mmp_get_shortcode_list"},success:function(t){e.dialog("isOpen")&&(e.html(t).dialog("option","position",{my:"center",at:"center",of:window}),i("#mmp-shortcode-list li").click(function(){i("#mmp-shortcode-list li.mmp-row-active").removeClass("mmp-row-active"),i("#mmp-shortcode-selected").val(i(this).data("id")),i(this).addClass("mmp-row-active"),i("#mmp-shortcode-insert").button("enable")}),i("#mmp-shortcode-search").keyup(function(t){var o=!1,e=i(this).val();i("#mmp-shortcode-list li").each(function(){-1===i(this).text().toUpperCase().indexOf(e.toUpperCase())?i(this).hide():(i(this).show(),o||(o=!0,i(this).click()))}),o?(i("#mmp-shortcode-no-results").hide(),i("#mmp-shortcode-insert").button("enable")):(i("#mmp-shortcode-selected").val("0"),i("#mmp-shortcode-no-results").show(),i("#mmp-shortcode-insert").button("disable")),13===t.keyCode&&i("#mmp-shortcode-insert").click()}),i("#mmp-shortcode-list li:first-child").click(),i("#mmp-shortcode-search").focus())}}),i(".ui-widget-overlay").bind("click",function(){i(e).dialog("close")})},close:function(){i(this).empty()}});i("#mmp-shortcode-button").click(function(){e.dialog("open")})});